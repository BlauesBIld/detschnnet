<!DOCTYPE html>
<!--suppress CssUnknownTarget -->
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title><%= title %></title>

    <link rel="icon" href="/img/mage.png"/>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
            href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Sofia+Sans:ital,wght@0,1..1000;1,1..1000&display=swap"
            rel="stylesheet">

    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/all.min.css" rel="stylesheet">
    <link href="/css/fontawesome.css" rel="stylesheet">
    <link href="/css/owl.carousel.min.css" rel="stylesheet">
    <link href="/css/default.css" rel="stylesheet">
    <link href="/css/oldstyle.css" rel="stylesheet">
    <link href="/css/responsive.css" rel="stylesheet">
    <link href="/css/game.css" rel="stylesheet">

</head>
<body>
<div class="body_wrapper">

    <!-- Header Area Start -->
    <header class="header">
        <div class="header__flex">
            <div class="header__left">
                <div class="header__home">
                    <a href="/">
                        <svg width="42" height="39" viewBox="0 0 42 39" fill="none"
                             xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <rect y="0.153809" width="42" height="38.7692" fill="url(#pattern0)"/>
                            <defs>
                                <pattern id="pattern0" patternContentUnits="objectBoundingBox" width="1" height="1">
                                    <use xlink:href="#image0_219_105"
                                         transform="matrix(0.00923077 0 0 0.01 0.0384615 0)"/>
                                </pattern>
                                <image id="image0_219_105" width="100" height="100"
                                       xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD10lEQVR4nO3dOWgVQRzH8TFqFDSKZ6PgrWhKLTxRwYgEsYtH4wEiYvew8KgsUkQlRQpFENTKwkJi8GriBWqjhXiheJRq4oHiFZP4ldEJiryXvH2zuzM7+//AQniP7PxnftnM7rzNRikhhBBCCCGEEEIIIYTIK2AsMMZ1HbkGzANOAZ38pb8+qd9zXV+uAAWgi9L0ewXXdQYPqAZOUL7TwHDXdQcJGAdcJbqbwETX9QcFmA08oXIvgFrX/QgCUA98xJ7eR33EtmcB+4Gm/zb92kyV08m7h/j0lDvZA1uAb/3sS7+3WeVo8j5OcvS+qwc4MvoLo8/X4I8UKp+8o9JtjCtRw74I+9mrQgXMBZ6RHt3W3CJ1NEfYR7MKEbAa+ED6PgFr/6sl34EAO4AfuKMn+z0q74EAQ4FjMQzoPbPZOmZqyl8gZoW23XIAfwKNwCCzNZrXbLSbBcr8BKJPFYHHlgP3vdh1ALDBnI6mJduBAKuA95aD0Aks66eNhcAr0tGc98n7HjCljLYmAXdIXvYCAQabNSBbF4BREdodAZwlWdkKBKgBzsfQ8RagqoL29WR/gORkJxBgBvAohsl7awy1bExoss9GIMBSoMOys2+B5THWtAh4Td4CAbbHMHnfB6YmUNtk4C55CCTGyfsSMDrBOkcCrYQciB5AM5C2DlcyeVdQb5Vpy9atJH94KgJMBx5adqwL2Oag9k1lfhjVn6fAHOUDYAnwJobJe4XDPiyOoQ/vgJWu+tDXkYYBblgrxwNgmtOOqN99mWZqsaHHYp2rDtSaa4TUrryTpmsxNdn4rH+Fuyj+jGXhbfqsTPl5pthm2bfjLor+EuTpoor8iWExr9MueKJlwaEHog1Ls+DhQDd2Qg7ks17UTLvoKxJISRdSDeOf6w+boyTUI6RXj42rwndahBJiIL3ALtfF6yXtcxUsP4QUSDdwWV/xK58AR5IKBFgA3I64rP/DfM/8BAM5CgxRPkrqBjP+XEHbfLCk70Cpcd2PkAKpw16d636EFEgD9hpc9yN1EohnJBDPSCCekUA8I4F4RgLxjATiGQnEMxKIZyQQz0ggnpFAPCOBeEYCyXYgLR4vv7eEsvx+KEJHOkyATWVsrdhrLbOt5oh/indQ+QrYTf4UlK+A9eRPg/KVuec3zmck+k73dYLyGXCD/LimfAesIT/qVBaYu/hCd1Fl7MmizwnXS+/njhL/TkIXHpoXxZ5kmgn6pyiwX18XgfEq68xEfz2jp8Q9+mxKP8ZWhcYcMevNM92bPN8KZg0tW3OFEEIIIYQQQgghhBBCCCGEEEIIFZNf3ZF8AIMNaQgAAAAASUVORK5CYII="/>
                            </defs>
                        </svg>
                    </a>
                </div>
                <div class="header__btn">
                    <a href="/aboutme" class="theme__btn">About Me</a>
                    <a href="https://github.com/BlauesBIld" class="theme__btn">GitHub
                        <svg xmlns="http://www.w3.org/2000/svg"
                             xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px"
                             viewBox="0 0 1024 1280" style="enable-background:new 0 0 1024 1024;"
                             xml:space="preserve">
                                <g>
                                    <g>
                                        <g>
                                            <path
                                                    d="M631.3,170.8c30.6,0,61.2,0,91.7,0c48.9,0,97.8,0,146.7,0c11.2,0,22.3,0,33.5,0     c-16.7-16.7-33.3-33.3-50-50c0,30.6,0,61.2,0,91.7c0,48.9,0,97.8,0,146.7c0,11.2,0,22.3,0,33.5c0,12.8,5.6,26.3,14.6,35.4     c8.7,8.7,22.9,15.2,35.4,14.6c12.9-0.6,26.3-4.8,35.4-14.6c9-9.8,14.6-21.8,14.6-35.4c0-30.6,0-61.2,0-91.7     c0-48.9,0-97.8,0-146.7c0-11.2,0-22.3,0-33.5c0-27-22.9-50-50-50c-30.6,0-61.2,0-91.7,0c-48.9,0-97.8,0-146.7,0     c-11.2,0-22.3,0-33.5,0c-12.8,0-26.3,5.6-35.4,14.6c-8.7,8.7-15.2,22.9-14.6,35.4c0.6,12.9,4.8,26.3,14.6,35.4     C605.7,165.1,617.7,170.8,631.3,170.8L631.3,170.8z"/>
                                        </g>
                                    </g>
                                    <g>
                                        <g>
                                            <path
                                                    d="M487.4,607.4c15-15,29.9-29.9,44.9-44.9c35.9-35.9,71.8-71.8,107.8-107.8     c43.5-43.5,86.9-86.9,130.4-130.4c37.6-37.6,75.1-75.1,112.7-112.7c18.3-18.3,36.7-36.3,54.8-54.8c0.3-0.3,0.5-0.5,0.8-0.8     c9.1-9.1,14.6-22.5,14.6-35.4c0-12.3-5.4-26.9-14.6-35.4c-9.5-8.7-22-15.2-35.4-14.6c-13.3,0.6-25.8,5.1-35.4,14.6     c-15,15-29.9,29.9-44.9,44.9c-35.9,35.9-71.8,71.8-107.8,107.8c-43.5,43.5-86.9,86.9-130.4,130.4     c-37.6,37.6-75.1,75.1-112.7,112.7c-18.3,18.3-36.7,36.3-54.8,54.8c-0.3,0.3-0.5,0.5-0.8,0.8c-9.1,9.1-14.6,22.5-14.6,35.4     c0,12.3,5.4,26.9,14.6,35.4c9.5,8.7,22,15.2,35.4,14.6C465.3,621.4,477.8,616.9,487.4,607.4L487.4,607.4z"/>
                                        </g>
                                    </g>
                                    <g>
                                        <g>
                                            <path
                                                    d="M853.3,592.8c0,28,0,56,0,84.1c0,43.6,0,87.2,0,130.8c0,11.8,0.9,24-0.7,35.7c0.6-4.4,1.2-8.9,1.8-13.3     c-0.9,5.8-2.4,11.3-4.6,16.8c1.7-4,3.4-8,5-11.9c-2.4,5.7-5.5,10.9-9.2,15.9c2.6-3.4,5.2-6.7,7.8-10.1     c-3.8,4.8-8.1,9.1-12.9,12.9c3.4-2.6,6.7-5.2,10.1-7.8c-4.9,3.7-10.2,6.8-15.9,9.2c4-1.7,8-3.4,11.9-5c-5.4,2.2-11,3.7-16.8,4.6     c4.4-0.6,8.9-1.2,13.3-1.8c-8.2,1.1-16.7,0.7-25,0.7c-15.5,0-30.9,0-46.4,0c-51.6,0-103.2,0-154.8,0c-62.7,0-125.5,0-188.2,0     c-54,0-108,0-162,0c-25.4,0-50.8,0.2-76.1,0c-3.4,0-6.8-0.2-10.2-0.7c4.4,0.6,8.9,1.2,13.3,1.8c-5.8-0.9-11.3-2.4-16.8-4.6     c4,1.7,8,3.4,11.9,5c-5.7-2.4-10.9-5.5-15.9-9.2c3.4,2.6,6.7,5.2,10.1,7.8c-4.8-3.8-9.1-8.1-12.9-12.9c2.6,3.4,5.2,6.7,7.8,10.1     c-3.7-4.9-6.8-10.2-9.2-15.9c1.7,4,3.4,8,5,11.9c-2.2-5.4-3.7-11-4.6-16.8c0.6,4.4,1.2,8.9,1.8,13.3c-1.1-8.2-0.7-16.7-0.7-25     c0-15.5,0-30.9,0-46.4c0-51.6,0-103.2,0-154.8c0-62.7,0-125.5,0-188.2c0-54,0-108,0-162c0-25.4-0.2-50.8,0-76.1     c0-3.4,0.2-6.8,0.7-10.2c-0.6,4.4-1.2,8.9-1.8,13.3c0.9-5.8,2.4-11.3,4.6-16.8c-1.7,4-3.4,8-5,11.9c2.4-5.7,5.5-10.9,9.2-15.9     c-2.6,3.4-5.2,6.7-7.8,10.1c3.8-4.8,8.1-9.1,12.9-12.9c-3.4,2.6-6.7,5.2-10.1,7.8c4.9-3.7,10.2-6.8,15.9-9.2c-4,1.7-8,3.4-11.9,5     c5.4-2.2,11-3.7,16.8-4.6c-4.4,0.6-8.9,1.2-13.3,1.8c9.9-1.3,20.2-0.7,30.1-0.7c19,0,37.9,0,56.9,0c44.3,0,88.5,0,132.8,0     c10.3,0,20.5,0,30.8,0c12.8,0,26.3-5.6,35.4-14.6c8.7-8.7,15.2-22.9,14.6-35.4c-0.6-12.9-4.8-26.3-14.6-35.4     c-9.8-9-21.8-14.6-35.4-14.6c-27.7,0-55.4,0-83.1,0c-43.3,0-86.5,0-129.8,0c-9.3,0-18.6-0.1-27.9,0c-21.3,0.2-42.9,5.8-61.2,16.8     c-9.8,5.9-19.5,13.4-27,22.1c-7.7,8.9-14.8,18.2-19.5,29c-3,7-6.3,14-8.2,21.4c-2,8-3,16.4-3.7,24.7c-0.2,2-0.2,3.9-0.2,5.9     c0,1.5,0,2.9,0,4.4c0,7.6,0,15.2,0,22.7c0,29.9,0,59.7,0,89.6c0,42.6,0,85.2,0,127.8c0,47.1,0,94.2,0,141.3c0,43.3,0,86.7,0,130     c0,31.3,0,62.6,0,93.9c0,19.8-0.7,39.2,2.9,58.8c4,22.1,17.1,44.3,33.1,59.8c8.3,8,17.9,15.5,28.3,20.5c7,3.4,14.3,6.6,21.8,8.9     c7.7,2.3,15.9,3.2,23.8,4.1c5.9,0.7,11.8,0.7,17.7,0.7c22.6,0,45.2,0,67.9,0c38.4,0,76.9,0,115.3,0c46.5,0,93,0,139.4,0     c45.8,0,91.6,0,137.4,0c37,0,74,0,111.1,0c20,0,39.9,0,59.9,0c1.4,0,2.7,0,4.1,0c19.9-0.2,37.7-5.1,55.5-13.7     c20.2-9.7,38.5-28.1,49.1-47.7c9.8-18.1,15-37.9,15.2-58.5c0.2-30,0-60,0-90c0-42.6,0-85.1,0-127.7c0-7.6,0-15.3,0-22.9     c0-12.8-5.6-26.3-14.6-35.4c-8.7-8.7-22.9-15.2-35.4-14.6c-12.9,0.6-26.3,4.8-35.4,14.6C858.9,567.2,853.3,579.2,853.3,592.8     L853.3,592.8z"/>
                                        </g>
                                    </g>
                                </g>
                            </svg>
                    </a>
                </div>
            </div>
            <div class="header__right">
                <% if(loggedInUser && loggedInUser.role === "admin"){ %>
                    <a href="#" id="saveButton" class="theme__btn">Save</a>

                <% } %>
                <a href="/streamer/" class="theme__btn">Streamer

                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"
                         x="0px" y="0px" viewBox="0 0 100 125" style="enable-background:new 0 0 100 100;"
                         xml:space="preserve">
                            <style type="text/css">
                                .st0 {
                                    fill-rule: evenodd;
                                    clip-rule: evenodd;
                                }
                            </style>
                        <path class="st0"
                              d="M38.951,77.449v9.426c0,0.473,0.401,0.874,0.875,0.874h47.027c0.473,0,0.875-0.401,0.875-0.874V13.124  c0-0.474-0.401-0.875-0.875-0.875H39.825c-0.237,0-0.455,0.1-0.615,0.26h-0.014c-0.151,0.151-0.246,0.369-0.246,0.615v9.426h-7.365  v-9.426c0-2.257,0.928-4.316,2.425-5.815l-0.007-0.007c1.492-1.492,3.553-2.418,5.823-2.418h47.027c4.539,0,8.24,3.7,8.24,8.24  v73.751c0,4.54-3.701,8.24-8.24,8.24H39.825c-4.539,0-8.24-3.701-8.24-8.24v-9.426H38.951L38.951,77.449z M8.544,53.683h51.912  L46.088,68.051h10.416l15.429-15.429c1.189-1.181,1.464-3.031,0.575-4.512c-0.581-0.969-14.02-14.176-16.004-16.161H46.088  l14.368,14.368H8.544C3.695,46.317,3.695,53.683,8.544,53.683z"/>
                        </svg>

                </a>
            </div>
        </div>
    </header>
    <!-- Header Area End -->

    <!-- Hero Area Start -->
    <section class="hero container">
        <form id="gameForm" action="/games/<%= game.uuid %>/edit" method="POST" enctype="multipart/form-data">
            <div class="hero__flex">
                <!-- Left Column for Game Title and Description -->
                <div class="hero__left">
                    <div class="game-title">
                        <input type="text" class="form-control" name="title" value="<%= game.title %>"
                               placeholder="Game Title">
                    </div>
                    <br>
                    <div class="game-description h-75">
                        <textarea class="form-control h-100" name="description" rows="3"
                                  placeholder="Game Description"><%= game.description %></textarea>
                    </div>
                </div>

                <!-- Right Column for Image Upload and Game Details -->
                <div class="hero__right mt-5">
                    <!-- Image Upload Section -->
                    <div class="form-group file-upload-wrapper">
                        <label>Screenshots</label>
                        <div class="input-group">
                            <input type="text" id="fileNameDisplay" class="form-control" placeholder="No files chosen"
                                   readonly>
                            <div class="input-group-append ms-3">
                                <button type="button" id="customFileUploadButton" class="btn btn-primary">Upload Images
                                </button>
                            </div>
                        </div>
                        <input type="file" id="images" name="images" class="form-control-file"
                               accept=".png, .jpg, .jpeg" multiple hidden>
                    </div>

                    <div class="owl-carousel owl-theme">
                        <% imageNames.forEach(function(imageName){ %>
                            <div class="item"><img src="/img/games/<%= game.uuid %>/<%= imageName %>" alt="Game Image">
                            </div>
                        <% }); %>
                    </div>
                    <!-- Game Details Section -->
                    <div class="justify-content-center">
                        <div class="row justify-content-center">
                            <div class="col-9">
                                <div class="border rounded-3 border-secondary p-3">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <p>Engine:</p>
                                            <p>Languages and/or Tools:</p>
                                            <p>Status:</p>
                                            <p>Genre:</p>
                                            <p>Platform:</p>
                                            <p>Github:</p>
                                            <p>Tags:</p>
                                        </div>
                                        <div class="col-md-6">
                                            <select class="form-control mb-3" name="engine">
                                                <option value="Unity" <%= game.engine === 'Unity' ? 'selected' : '' %>>
                                                    Unity
                                                </option>
                                                <option value="Unreal" <%= game.engine === 'Unreal' ? 'selected' : '' %>>
                                                    Unreal
                                                </option>
                                                <option value="No Engine" <%= game.engine === 'No Engine' ? 'selected' : '' %>>
                                                    No Engine
                                                </option>
                                            </select>
                                            <input type="text" class="form-control mb-3" name="languages_and_tools"
                                                   value="<%= game.languages_and_tools %>" placeholder="Languages and/or Tools">

                                            <select class="form-control mb-3" name="status">
                                                <option value="In Development" <%= game.status === 'In Development' ? 'selected' : '' %>>
                                                    In Development
                                                </option>
                                                <option value="Finished" <%= game.status === 'Finished' ? 'selected' : '' %>>
                                                    Finished
                                                </option>
                                                <option value="Paused" <%= game.status === 'Paused' ? 'selected' : '' %>>
                                                    Paused
                                                </option>
                                            </select>

                                            <input type="text" class="form-control mb-3" name="genre"
                                                   value="<%= game.genre %>" placeholder="Genre">
                                            <input type="text" class="form-control mb-3" name="platform"
                                                   value="<%= game.platform %>" placeholder="Platform">
                                            <input type="text" class="form-control mb-3" name="github"
                                                   value="<%= game.github %>" placeholder="Github URL">
                                            <input type="text" class="form-control mb-3" name="tags"
                                                   value="<%= game.tags %>" placeholder="tags">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </section>
    <!-- Hero Area End -->
</div>


<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="/js/jquery.min.js"></script>
<script src="/js/Popper.js"></script>
<script src="/js/owl.carousel.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>

<script>
    $(document).ready(function () {
        $(".owl-carousel").owlCarousel({
            items: 1,
            nav: true,
            dot: false,
            loop: true,
            margin: 0,
            autoplay: false,
            autoplayTimeout: 6000,
            smartSpeed: 1000,
            responsiveClass: true,
            responsive: {
                0: {
                    items: 1,
                },
                768: {
                    items: 1,
                },
                1000: {
                    items: 1,
                }
            }
        });

        // Trigger file upload dialog when clicking on the 'Upload Images' button
        $("#customFileUploadButton").click(function () {
            $("#images").click();
        });

        // Update the text field when files are selected
        $("#images").change(function () {
            var filesCount = $(this)[0].files.length;
            var displayText = filesCount > 0 ? filesCount + " file(s) chosen" : "No files chosen";
            $("#fileNameDisplay").val(displayText);
        });

        // When the "Save" button is clicked
        $('#saveButton').on('click', function (e) {
            e.preventDefault(); // Prevent the default anchor behavior
            $('#gameForm').submit(); // Submit the form
        });
    });
</script>

</body>

</html>